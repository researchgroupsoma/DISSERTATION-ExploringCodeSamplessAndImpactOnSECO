event_id,event_type,event_repository,code_sample_event,event_created_at,event_payload,event_action,language
20608822720,IssuesEvent,google/java-photoslibrary,0.0,2022-03-07T05:44:27Z,"{'action': 'closed', 'issue': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46', 'repository_url': 'https://api.github.com/repos/google/java-photoslibrary', 'labels_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/labels{/name}', 'comments_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/comments', 'events_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/events', 'html_url': 'https://github.com/google/java-photoslibrary/issues/46', 'id': 1160419745, 'node_id': 'I_kwDOCLvLtc5FKpmh', 'number': 46, 'title': 'Add Video Duration to Photos API', 'user': {'login': 'asteven5', 'id': 47636253, 'node_id': 'MDQ6VXNlcjQ3NjM2MjUz', 'avatar_url': 'https://avatars.githubusercontent.com/u/47636253?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/asteven5', 'html_url': 'https://github.com/asteven5', 'followers_url': 'https://api.github.com/users/asteven5/followers', 'following_url': 'https://api.github.com/users/asteven5/following{/other_user}', 'gists_url': 'https://api.github.com/users/asteven5/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/asteven5/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/asteven5/subscriptions', 'organizations_url': 'https://api.github.com/users/asteven5/orgs', 'repos_url': 'https://api.github.com/users/asteven5/repos', 'events_url': 'https://api.github.com/users/asteven5/events{/privacy}', 'received_events_url': 'https://api.github.com/users/asteven5/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'closed', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 1, 'created_at': '2022-03-05T18:39:51Z', 'updated_at': '2022-03-07T05:44:26Z', 'closed_at': '2022-03-07T05:44:26Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'The Google Photos API does not return video duration. I would expect the API to return the length of the clip in minutes and seconds.\r\n\r\nIt would be very useful for a variety of reasons in different applications. Please make this available. ', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/timeline', 'performed_via_github_app': None}}",closed,Java
20608822684,IssueCommentEvent,google/java-photoslibrary,0.0,2022-03-07T05:44:27Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46', 'repository_url': 'https://api.github.com/repos/google/java-photoslibrary', 'labels_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/labels{/name}', 'comments_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/comments', 'events_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/events', 'html_url': 'https://github.com/google/java-photoslibrary/issues/46', 'id': 1160419745, 'node_id': 'I_kwDOCLvLtc5FKpmh', 'number': 46, 'title': 'Add Video Duration to Photos API', 'user': {'login': 'asteven5', 'id': 47636253, 'node_id': 'MDQ6VXNlcjQ3NjM2MjUz', 'avatar_url': 'https://avatars.githubusercontent.com/u/47636253?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/asteven5', 'html_url': 'https://github.com/asteven5', 'followers_url': 'https://api.github.com/users/asteven5/followers', 'following_url': 'https://api.github.com/users/asteven5/following{/other_user}', 'gists_url': 'https://api.github.com/users/asteven5/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/asteven5/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/asteven5/subscriptions', 'organizations_url': 'https://api.github.com/users/asteven5/orgs', 'repos_url': 'https://api.github.com/users/asteven5/repos', 'events_url': 'https://api.github.com/users/asteven5/events{/privacy}', 'received_events_url': 'https://api.github.com/users/asteven5/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'closed', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 1, 'created_at': '2022-03-05T18:39:51Z', 'updated_at': '2022-03-07T05:44:26Z', 'closed_at': '2022-03-07T05:44:26Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'The Google Photos API does not return video duration. I would expect the API to return the length of the clip in minutes and seconds.\r\n\r\nIt would be very useful for a variety of reasons in different applications. Please make this available. ', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1060215664', 'html_url': 'https://github.com/google/java-photoslibrary/issues/46#issuecomment-1060215664', 'issue_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/46', 'id': 1060215664, 'node_id': 'IC_kwDOCLvLtc4_MZtw', 'user': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-03-07T05:44:26Z', 'updated_at': '2022-03-07T05:44:26Z', 'author_association': 'COLLABORATOR', 'body': 'The Google Photos Library API does not return the duration of videos, that is why the client library also does not currently support this functionality. \r\n\r\nThere is a feature request open on the Library API issue tracker, please ""star"" it (or use the `+1` button) on this request here to draw attention to it and be notified of any updates: https://issuetracker.google.com/123979425 \r\n\r\nThank you! \r\n\r\n(I\'m closing this issue as this is a feature request for the API itself, rather than this particular client library.)', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1060215664/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Java
20102179720,IssuesEvent,google/java-photoslibrary,0.0,2022-02-07T06:19:32Z,"{'action': 'closed', 'issue': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45', 'repository_url': 'https://api.github.com/repos/google/java-photoslibrary', 'labels_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/labels{/name}', 'comments_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/comments', 'events_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/events', 'html_url': 'https://github.com/google/java-photoslibrary/issues/45', 'id': 1081928688, 'node_id': 'I_kwDOCLvLtc5AfOvw', 'number': 45, 'title': 'java.lang.NoClassDefFoundError when attempting to create the PhotosLibraryClient', 'user': {'login': 'GambitDev', 'id': 60400313, 'node_id': 'MDQ6VXNlcjYwNDAwMzEz', 'avatar_url': 'https://avatars.githubusercontent.com/u/60400313?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/GambitDev', 'html_url': 'https://github.com/GambitDev', 'followers_url': 'https://api.github.com/users/GambitDev/followers', 'following_url': 'https://api.github.com/users/GambitDev/following{/other_user}', 'gists_url': 'https://api.github.com/users/GambitDev/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/GambitDev/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/GambitDev/subscriptions', 'organizations_url': 'https://api.github.com/users/GambitDev/orgs', 'repos_url': 'https://api.github.com/users/GambitDev/repos', 'events_url': 'https://api.github.com/users/GambitDev/events{/privacy}', 'received_events_url': 'https://api.github.com/users/GambitDev/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'closed', 'locked': False, 'assignee': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'assignees': [{'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}], 'milestone': None, 'comments': 6, 'created_at': '2021-12-16T08:54:56Z', 'updated_at': '2022-02-07T06:19:32Z', 'closed_at': '2022-02-07T06:19:31Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hi\r\nI have encountered a very strange crash while using this library, trying to create a client using ```PhotosLibraryClient.initialize(clientSettings)``` crashes the app with the following stack (I have removed paths mentioned in it and changed my package name)\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.my.package, PID: 6210\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lio/grpc/CallCredentials2;\r\n        at io.grpc.auth.MoreCallCredentials.from(MoreCallCredentials.java:35)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:131)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:64)\r\n        at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:174)\r\n        at com.google.photos.library.v1.internal.stub.GrpcPhotosLibraryStub.create(GrpcPhotosLibraryStub.java:306)\r\n        at com.google.photos.library.v1.internal.stub.PhotosLibraryStubSettings.createStub(PhotosLibraryStubSettings.java:283)\r\n        at com.google.photos.library.v1.internal.InternalPhotosLibraryClient.<init>(InternalPhotosLibraryClient.java:183)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.<init>(PhotosLibraryClient.java:103)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.initialize(PhotosLibraryClient.java:116)\r\n        at com.my.package.managers.data.PhotosDataManager.<init>(PhotosDataManager.kt:32)\r\n        at com.my.package.managers.data.DataManager.<init>(DataManager.kt:17)\r\n        at com.my.package.data.dagger.DependencyProvider.provideDataManager(DependencyProvider.kt:39)\r\n        at com.my.package.data.dagger.DependencyProvider_ProvideDataManagerFactory.provideDataManager(DependencyProvider_ProvideDataManagerFactory.java:42)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.dataManager(DaggerLookApp_HiltComponents_SingletonC.java:128)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$2600(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$SwitchingProvider.get(DaggerLookApp_HiltComponents_SingletonC.java:630)\r\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.imageViewModel(DaggerLookApp_HiltComponents_SingletonC.java:132)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$1200(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment2(DaggerLookApp_HiltComponents_SingletonC.java:428)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment(DaggerLookApp_HiltComponents_SingletonC.java:412)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.inject(Hilt_LookGuidedStepSupportFragment.java:100)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:51)\r\n        at androidx.fragment.app.Fragment.onAttach(Fragment.java:1783)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:39)\r\n        at androidx.fragment.app.Fragment.performAttach(Fragment.java:2922)\r\n        at androidx.fragment.app.FragmentStateManager.attach(FragmentStateManager.java:464)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:275)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1391)\r\nE/AndroidRuntime:     at android.app.Activity.performStart(Activity.java:7165)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:2938)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6680)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.ClassNotFoundException: Didn\'t find class ""io.grpc.CallCredentials2"" on path: DexPathList[[zip file ""my-path""],nativeLibraryDirectories=[some-more-paths]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 50 more\r\n```\r\nAfter digging a bit into it, it seems that the CallCredentials2 class does not exists.\r\nFrom the source code:\r\n```java\r\n// TODO(zhangkun83): remove the suppression after we change the base class to CallCredential\r\n@SuppressWarnings(""deprecation"")\r\nfinal class GoogleAuthLibraryCallCredentials extends io.grpc.CallCredentials2 {\r\n... rest of the class ...\r\n```\r\nAfter a quick google search of this missing class I found this link to it\'s docs:\r\nhttps://www.javadoc.io/static/io.grpc/grpc-api/1.25.0/io/grpc/CallCredentials2.html\r\nwhere it is stated that ```THIS CLASS NAME IS TEMPORARY and is part of a migration. This class will BE DELETED as it replaces CallCredentials in short-term. THIS CLASS IS ONLY REFERENCED BY IMPLEMENTIONS. All consumers should be always referencing CallCredentials.```\r\n\r\nIs it possible that this actually happened? that ```CallCredentials2``` does not exist anymore and the photo library is still attempting to use it?\r\n\r\nI\'m using version 1.7.1 of the photos library, and this is the way I attempt to create the client:\r\n\r\n```kotlin\r\nprivate val service: PhotosLibraryClient\r\n\r\n    init {\r\n        val token = sharedPrefManager.getPhotosTokenFromPref()\r\n        val accessToken = AccessToken(token, null)\r\n        val clientSettings = PhotosLibrarySettings.newBuilder()\r\n            .setCredentialsProvider(\r\n                FixedCredentialsProvider.create(\r\n                    UserCredentials.newBuilder()\r\n                        .setClientId(""id"")\r\n                        .setClientSecret(""secret"")\r\n                        .setAccessToken(accessToken)\r\n                        .build()\r\n                )\r\n            ).build()\r\n        service = PhotosLibraryClient.initialize(clientSettings)\r\n        Log.d(TAG, ""PhotosLibraryClient initialized!"")\r\n    }\r\n```\r\n\r\nthis is the part I think is relevant from my app\'s build dependency block:\r\n```gradle\r\n    implementation (\'com.google.apis:google-api-services-drive:v3-rev110-1.23.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n    implementation (\'com.google.api-client:google-api-client-android:1.20.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n\r\n    implementation \'com.google.android.gms:play-services-auth:19.2.0\'\r\n    implementation \'com.google.photos.library:google-photos-library-client:1.7.1\'\r\n\r\n    // hilt\r\n    implementation ""com.google.dagger:hilt-android:2.38.1""\r\n    kapt ""com.google.dagger:hilt-compiler:2.38.1""\r\n\r\n    // grpc\r\n    implementation \'io.grpc:grpc-okhttp:1.43.0\'\r\n    implementation \'io.grpc:grpc-stub:1.43.0\'\r\n    implementation \'io.grpc:grpc-netty:1.21.1\'\r\n    implementation \'io.grpc:grpc-protobuf:1.37.0\'\r\n```\r\n\r\nCould it be something else? How can I go about fixing this issue?\r\nI would be happy to share more code or information if needed\r\n\r\nThanks', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/timeline', 'performed_via_github_app': None}}",closed,Java
20102179635,IssueCommentEvent,google/java-photoslibrary,0.0,2022-02-07T06:19:32Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45', 'repository_url': 'https://api.github.com/repos/google/java-photoslibrary', 'labels_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/labels{/name}', 'comments_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/comments', 'events_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/events', 'html_url': 'https://github.com/google/java-photoslibrary/issues/45', 'id': 1081928688, 'node_id': 'I_kwDOCLvLtc5AfOvw', 'number': 45, 'title': 'java.lang.NoClassDefFoundError when attempting to create the PhotosLibraryClient', 'user': {'login': 'GambitDev', 'id': 60400313, 'node_id': 'MDQ6VXNlcjYwNDAwMzEz', 'avatar_url': 'https://avatars.githubusercontent.com/u/60400313?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/GambitDev', 'html_url': 'https://github.com/GambitDev', 'followers_url': 'https://api.github.com/users/GambitDev/followers', 'following_url': 'https://api.github.com/users/GambitDev/following{/other_user}', 'gists_url': 'https://api.github.com/users/GambitDev/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/GambitDev/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/GambitDev/subscriptions', 'organizations_url': 'https://api.github.com/users/GambitDev/orgs', 'repos_url': 'https://api.github.com/users/GambitDev/repos', 'events_url': 'https://api.github.com/users/GambitDev/events{/privacy}', 'received_events_url': 'https://api.github.com/users/GambitDev/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'closed', 'locked': False, 'assignee': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'assignees': [{'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}], 'milestone': None, 'comments': 5, 'created_at': '2021-12-16T08:54:56Z', 'updated_at': '2022-02-07T06:19:31Z', 'closed_at': '2022-02-07T06:19:31Z', 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hi\r\nI have encountered a very strange crash while using this library, trying to create a client using ```PhotosLibraryClient.initialize(clientSettings)``` crashes the app with the following stack (I have removed paths mentioned in it and changed my package name)\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.my.package, PID: 6210\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lio/grpc/CallCredentials2;\r\n        at io.grpc.auth.MoreCallCredentials.from(MoreCallCredentials.java:35)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:131)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:64)\r\n        at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:174)\r\n        at com.google.photos.library.v1.internal.stub.GrpcPhotosLibraryStub.create(GrpcPhotosLibraryStub.java:306)\r\n        at com.google.photos.library.v1.internal.stub.PhotosLibraryStubSettings.createStub(PhotosLibraryStubSettings.java:283)\r\n        at com.google.photos.library.v1.internal.InternalPhotosLibraryClient.<init>(InternalPhotosLibraryClient.java:183)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.<init>(PhotosLibraryClient.java:103)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.initialize(PhotosLibraryClient.java:116)\r\n        at com.my.package.managers.data.PhotosDataManager.<init>(PhotosDataManager.kt:32)\r\n        at com.my.package.managers.data.DataManager.<init>(DataManager.kt:17)\r\n        at com.my.package.data.dagger.DependencyProvider.provideDataManager(DependencyProvider.kt:39)\r\n        at com.my.package.data.dagger.DependencyProvider_ProvideDataManagerFactory.provideDataManager(DependencyProvider_ProvideDataManagerFactory.java:42)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.dataManager(DaggerLookApp_HiltComponents_SingletonC.java:128)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$2600(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$SwitchingProvider.get(DaggerLookApp_HiltComponents_SingletonC.java:630)\r\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.imageViewModel(DaggerLookApp_HiltComponents_SingletonC.java:132)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$1200(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment2(DaggerLookApp_HiltComponents_SingletonC.java:428)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment(DaggerLookApp_HiltComponents_SingletonC.java:412)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.inject(Hilt_LookGuidedStepSupportFragment.java:100)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:51)\r\n        at androidx.fragment.app.Fragment.onAttach(Fragment.java:1783)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:39)\r\n        at androidx.fragment.app.Fragment.performAttach(Fragment.java:2922)\r\n        at androidx.fragment.app.FragmentStateManager.attach(FragmentStateManager.java:464)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:275)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1391)\r\nE/AndroidRuntime:     at android.app.Activity.performStart(Activity.java:7165)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:2938)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6680)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.ClassNotFoundException: Didn\'t find class ""io.grpc.CallCredentials2"" on path: DexPathList[[zip file ""my-path""],nativeLibraryDirectories=[some-more-paths]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 50 more\r\n```\r\nAfter digging a bit into it, it seems that the CallCredentials2 class does not exists.\r\nFrom the source code:\r\n```java\r\n// TODO(zhangkun83): remove the suppression after we change the base class to CallCredential\r\n@SuppressWarnings(""deprecation"")\r\nfinal class GoogleAuthLibraryCallCredentials extends io.grpc.CallCredentials2 {\r\n... rest of the class ...\r\n```\r\nAfter a quick google search of this missing class I found this link to it\'s docs:\r\nhttps://www.javadoc.io/static/io.grpc/grpc-api/1.25.0/io/grpc/CallCredentials2.html\r\nwhere it is stated that ```THIS CLASS NAME IS TEMPORARY and is part of a migration. This class will BE DELETED as it replaces CallCredentials in short-term. THIS CLASS IS ONLY REFERENCED BY IMPLEMENTIONS. All consumers should be always referencing CallCredentials.```\r\n\r\nIs it possible that this actually happened? that ```CallCredentials2``` does not exist anymore and the photo library is still attempting to use it?\r\n\r\nI\'m using version 1.7.1 of the photos library, and this is the way I attempt to create the client:\r\n\r\n```kotlin\r\nprivate val service: PhotosLibraryClient\r\n\r\n    init {\r\n        val token = sharedPrefManager.getPhotosTokenFromPref()\r\n        val accessToken = AccessToken(token, null)\r\n        val clientSettings = PhotosLibrarySettings.newBuilder()\r\n            .setCredentialsProvider(\r\n                FixedCredentialsProvider.create(\r\n                    UserCredentials.newBuilder()\r\n                        .setClientId(""id"")\r\n                        .setClientSecret(""secret"")\r\n                        .setAccessToken(accessToken)\r\n                        .build()\r\n                )\r\n            ).build()\r\n        service = PhotosLibraryClient.initialize(clientSettings)\r\n        Log.d(TAG, ""PhotosLibraryClient initialized!"")\r\n    }\r\n```\r\n\r\nthis is the part I think is relevant from my app\'s build dependency block:\r\n```gradle\r\n    implementation (\'com.google.apis:google-api-services-drive:v3-rev110-1.23.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n    implementation (\'com.google.api-client:google-api-client-android:1.20.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n\r\n    implementation \'com.google.android.gms:play-services-auth:19.2.0\'\r\n    implementation \'com.google.photos.library:google-photos-library-client:1.7.1\'\r\n\r\n    // hilt\r\n    implementation ""com.google.dagger:hilt-android:2.38.1""\r\n    kapt ""com.google.dagger:hilt-compiler:2.38.1""\r\n\r\n    // grpc\r\n    implementation \'io.grpc:grpc-okhttp:1.43.0\'\r\n    implementation \'io.grpc:grpc-stub:1.43.0\'\r\n    implementation \'io.grpc:grpc-netty:1.21.1\'\r\n    implementation \'io.grpc:grpc-protobuf:1.37.0\'\r\n```\r\n\r\nCould it be something else? How can I go about fixing this issue?\r\nI would be happy to share more code or information if needed\r\n\r\nThanks', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1031113450', 'html_url': 'https://github.com/google/java-photoslibrary/issues/45#issuecomment-1031113450', 'issue_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45', 'id': 1031113450, 'node_id': 'IC_kwDOCLvLtc49dYrq', 'user': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-02-07T06:19:31Z', 'updated_at': '2022-02-07T06:19:31Z', 'author_association': 'COLLABORATOR', 'body': 'We have released [version 1.7.2](https://github.com/google/java-photoslibrary/releases/tag/v1.7.2), which includes a fix for this issue and updated dependencies. \r\n\r\nPlease reopen this issue if you are still seeing this error after upgrading your dependency. Thanks!', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1031113450/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Java
20069470804,CreateEvent,google/java-photoslibrary,0.0,2022-02-04T03:34:27Z,"{'ref': 'v1.7.2', 'ref_type': 'tag', 'master_branch': 'main', 'description': 'Java client library for the Google Photos Library API', 'pusher_type': 'user'}",,Java
20069470762,ReleaseEvent,google/java-photoslibrary,0.0,2022-02-04T03:34:27Z,"{'action': 'published', 'release': {'url': 'https://api.github.com/repos/google/java-photoslibrary/releases/58650941', 'assets_url': 'https://api.github.com/repos/google/java-photoslibrary/releases/58650941/assets', 'upload_url': 'https://uploads.github.com/repos/google/java-photoslibrary/releases/58650941/assets{?name,label}', 'html_url': 'https://github.com/google/java-photoslibrary/releases/tag/v1.7.2', 'id': 58650941, 'author': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'node_id': 'RE_kwDOCLvLtc4DfvE9', 'tag_name': 'v1.7.2', 'target_commitish': 'main', 'name': 'v1.7.2', 'draft': False, 'prerelease': False, 'created_at': '2022-01-31T02:56:22Z', 'published_at': '2022-02-04T03:34:27Z', 'assets': [], 'tarball_url': 'https://api.github.com/repos/google/java-photoslibrary/tarball/v1.7.2', 'zipball_url': 'https://api.github.com/repos/google/java-photoslibrary/zipball/v1.7.2', 'body': 'This release includes updated dependencies and related changes. \r\n\r\nThis includes a fix for issue #45.\r\n\r\n## Related dependency changes\r\nIf you are using the [Google Auth Library for Java](https://github.com/google/google-auth-library-java), you may have to update dependencies for your project. Depending on your configuration you may need to explicitly include the correct version of this library. (Earlier versions included this as an implicit dependency.)\r\n\r\nSee the [samples/build.gradle](https://github.com/google/java-photoslibrary/blob/main/sample/build.gradle) file for an example. The sample application uses the `http` variant of the Google Auth library to handle user authentication and to retrieve credentials.', 'short_description_html': '<p>This release includes updated dependencies and related changes.</p>\n<p>This includes a fix for issue <a class=""issue-link js-issue-link"" data-error-text=""Failed to load title"" data-id=""1081928688"" data-permission-text=""Title is private"" data-url=""https://github.com/google/java-photoslibrary/issues/45"" data-hovercard-type=""issue"" data-hovercard-url=""/google/java-photoslibrary/issues/45/hovercard"" href=""https://github.com/google/java-photoslibrary/issues/45"">#45</a>.</p>\n<h2>Related dependency changes</h2>\n<p>If you are using the <a href=""https://github.com/google/google-auth-library-java"">Google Auth Library for Java</a>, you may have to updaâ€¦</p>', 'is_short_description_html_truncated': True}}",published,Java
20067910448,PushEvent,google/java-photoslibrary,0.0,2022-02-04T00:26:23Z,"{'push_id': 9007876484, 'size': 1, 'distinct_size': 1, 'ref': 'refs/heads/main', 'head': '55c74fbafcbf2227928c30b3b8a81a55f853f850', 'before': 'c3a35d77cdc9eb1c8f175a67588b73197a273f03', 'commits': [{'sha': '55c74fbafcbf2227928c30b3b8a81a55f853f850', 'author': {'email': 'jfschmakeit@google.com', 'name': 'Jan-Felix Schmakeit'}, 'message': 'Increase version to 1.7.2\n\nChange-Id: I756331b87ca999150e75a3140fca8ccdd5a30a99', 'distinct': True, 'url': 'https://api.github.com/repos/google/java-photoslibrary/commits/55c74fbafcbf2227928c30b3b8a81a55f853f850'}]}",,Java
19989310263,IssueCommentEvent,google/java-photoslibrary,0.0,2022-01-31T03:02:29Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45', 'repository_url': 'https://api.github.com/repos/google/java-photoslibrary', 'labels_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/labels{/name}', 'comments_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/comments', 'events_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/events', 'html_url': 'https://github.com/google/java-photoslibrary/issues/45', 'id': 1081928688, 'node_id': 'I_kwDOCLvLtc5AfOvw', 'number': 45, 'title': 'java.lang.NoClassDefFoundError when attempting to create the PhotosLibraryClient', 'user': {'login': 'GambitDev', 'id': 60400313, 'node_id': 'MDQ6VXNlcjYwNDAwMzEz', 'avatar_url': 'https://avatars.githubusercontent.com/u/60400313?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/GambitDev', 'html_url': 'https://github.com/GambitDev', 'followers_url': 'https://api.github.com/users/GambitDev/followers', 'following_url': 'https://api.github.com/users/GambitDev/following{/other_user}', 'gists_url': 'https://api.github.com/users/GambitDev/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/GambitDev/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/GambitDev/subscriptions', 'organizations_url': 'https://api.github.com/users/GambitDev/orgs', 'repos_url': 'https://api.github.com/users/GambitDev/repos', 'events_url': 'https://api.github.com/users/GambitDev/events{/privacy}', 'received_events_url': 'https://api.github.com/users/GambitDev/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'assignees': [{'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}], 'milestone': None, 'comments': 5, 'created_at': '2021-12-16T08:54:56Z', 'updated_at': '2022-01-31T03:02:29Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hi\r\nI have encountered a very strange crash while using this library, trying to create a client using ```PhotosLibraryClient.initialize(clientSettings)``` crashes the app with the following stack (I have removed paths mentioned in it and changed my package name)\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.my.package, PID: 6210\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lio/grpc/CallCredentials2;\r\n        at io.grpc.auth.MoreCallCredentials.from(MoreCallCredentials.java:35)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:131)\r\n        at com.google.api.gax.grpc.GrpcCallContext.withCredentials(GrpcCallContext.java:64)\r\n        at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:174)\r\n        at com.google.photos.library.v1.internal.stub.GrpcPhotosLibraryStub.create(GrpcPhotosLibraryStub.java:306)\r\n        at com.google.photos.library.v1.internal.stub.PhotosLibraryStubSettings.createStub(PhotosLibraryStubSettings.java:283)\r\n        at com.google.photos.library.v1.internal.InternalPhotosLibraryClient.<init>(InternalPhotosLibraryClient.java:183)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.<init>(PhotosLibraryClient.java:103)\r\n        at com.google.photos.library.v1.PhotosLibraryClient.initialize(PhotosLibraryClient.java:116)\r\n        at com.my.package.managers.data.PhotosDataManager.<init>(PhotosDataManager.kt:32)\r\n        at com.my.package.managers.data.DataManager.<init>(DataManager.kt:17)\r\n        at com.my.package.data.dagger.DependencyProvider.provideDataManager(DependencyProvider.kt:39)\r\n        at com.my.package.data.dagger.DependencyProvider_ProvideDataManagerFactory.provideDataManager(DependencyProvider_ProvideDataManagerFactory.java:42)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.dataManager(DaggerLookApp_HiltComponents_SingletonC.java:128)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$2600(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$SwitchingProvider.get(DaggerLookApp_HiltComponents_SingletonC.java:630)\r\n        at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.imageViewModel(DaggerLookApp_HiltComponents_SingletonC.java:132)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC.access$1200(DaggerLookApp_HiltComponents_SingletonC.java:67)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment2(DaggerLookApp_HiltComponents_SingletonC.java:428)\r\n        at com.my.package.DaggerLookApp_HiltComponents_SingletonC$FragmentCImpl.injectLookGuidedStepSupportFragment(DaggerLookApp_HiltComponents_SingletonC.java:412)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.inject(Hilt_LookGuidedStepSupportFragment.java:100)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:51)\r\n        at androidx.fragment.app.Fragment.onAttach(Fragment.java:1783)\r\n        at com.my.package.ui.source_picker.Hilt_LookGuidedStepSupportFragment.onAttach(Hilt_LookGuidedStepSupportFragment.java:39)\r\n        at androidx.fragment.app.Fragment.performAttach(Fragment.java:2922)\r\n        at androidx.fragment.app.FragmentStateManager.attach(FragmentStateManager.java:464)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:275)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1391)\r\nE/AndroidRuntime:     at android.app.Activity.performStart(Activity.java:7165)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:2938)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6680)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.ClassNotFoundException: Didn\'t find class ""io.grpc.CallCredentials2"" on path: DexPathList[[zip file ""my-path""],nativeLibraryDirectories=[some-more-paths]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        \t... 50 more\r\n```\r\nAfter digging a bit into it, it seems that the CallCredentials2 class does not exists.\r\nFrom the source code:\r\n```java\r\n// TODO(zhangkun83): remove the suppression after we change the base class to CallCredential\r\n@SuppressWarnings(""deprecation"")\r\nfinal class GoogleAuthLibraryCallCredentials extends io.grpc.CallCredentials2 {\r\n... rest of the class ...\r\n```\r\nAfter a quick google search of this missing class I found this link to it\'s docs:\r\nhttps://www.javadoc.io/static/io.grpc/grpc-api/1.25.0/io/grpc/CallCredentials2.html\r\nwhere it is stated that ```THIS CLASS NAME IS TEMPORARY and is part of a migration. This class will BE DELETED as it replaces CallCredentials in short-term. THIS CLASS IS ONLY REFERENCED BY IMPLEMENTIONS. All consumers should be always referencing CallCredentials.```\r\n\r\nIs it possible that this actually happened? that ```CallCredentials2``` does not exist anymore and the photo library is still attempting to use it?\r\n\r\nI\'m using version 1.7.1 of the photos library, and this is the way I attempt to create the client:\r\n\r\n```kotlin\r\nprivate val service: PhotosLibraryClient\r\n\r\n    init {\r\n        val token = sharedPrefManager.getPhotosTokenFromPref()\r\n        val accessToken = AccessToken(token, null)\r\n        val clientSettings = PhotosLibrarySettings.newBuilder()\r\n            .setCredentialsProvider(\r\n                FixedCredentialsProvider.create(\r\n                    UserCredentials.newBuilder()\r\n                        .setClientId(""id"")\r\n                        .setClientSecret(""secret"")\r\n                        .setAccessToken(accessToken)\r\n                        .build()\r\n                )\r\n            ).build()\r\n        service = PhotosLibraryClient.initialize(clientSettings)\r\n        Log.d(TAG, ""PhotosLibraryClient initialized!"")\r\n    }\r\n```\r\n\r\nthis is the part I think is relevant from my app\'s build dependency block:\r\n```gradle\r\n    implementation (\'com.google.apis:google-api-services-drive:v3-rev110-1.23.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n    implementation (\'com.google.api-client:google-api-client-android:1.20.0\') {\r\n        exclude group: \'com.google.guava\'\r\n    }\r\n\r\n    implementation \'com.google.android.gms:play-services-auth:19.2.0\'\r\n    implementation \'com.google.photos.library:google-photos-library-client:1.7.1\'\r\n\r\n    // hilt\r\n    implementation ""com.google.dagger:hilt-android:2.38.1""\r\n    kapt ""com.google.dagger:hilt-compiler:2.38.1""\r\n\r\n    // grpc\r\n    implementation \'io.grpc:grpc-okhttp:1.43.0\'\r\n    implementation \'io.grpc:grpc-stub:1.43.0\'\r\n    implementation \'io.grpc:grpc-netty:1.21.1\'\r\n    implementation \'io.grpc:grpc-protobuf:1.37.0\'\r\n```\r\n\r\nCould it be something else? How can I go about fixing this issue?\r\nI would be happy to share more code or information if needed\r\n\r\nThanks', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1025332378', 'html_url': 'https://github.com/google/java-photoslibrary/issues/45#issuecomment-1025332378', 'issue_url': 'https://api.github.com/repos/google/java-photoslibrary/issues/45', 'id': 1025332378, 'node_id': 'IC_kwDOCLvLtc49HVSa', 'user': {'login': 'jfschmakeit', 'id': 8895424, 'node_id': 'MDQ6VXNlcjg4OTU0MjQ=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8895424?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jfschmakeit', 'html_url': 'https://github.com/jfschmakeit', 'followers_url': 'https://api.github.com/users/jfschmakeit/followers', 'following_url': 'https://api.github.com/users/jfschmakeit/following{/other_user}', 'gists_url': 'https://api.github.com/users/jfschmakeit/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jfschmakeit/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jfschmakeit/subscriptions', 'organizations_url': 'https://api.github.com/users/jfschmakeit/orgs', 'repos_url': 'https://api.github.com/users/jfschmakeit/repos', 'events_url': 'https://api.github.com/users/jfschmakeit/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jfschmakeit/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-01-31T03:02:29Z', 'updated_at': '2022-01-31T03:02:29Z', 'author_association': 'COLLABORATOR', 'body': 'This has been addressed in c3a35d77cdc9eb1c8f175a67588b73197a273f03 - we are aiming to roll this into a new release shortly. \r\n\r\nIf you are using the [Java Google OAuth Library with HTTP features](https://github.com/googleapis/google-auth-library-java#google-auth-library-oauth2-http) to obtain credentials, you will also need to specify this now explicitly as a dependency in your project.', 'reactions': {'url': 'https://api.github.com/repos/google/java-photoslibrary/issues/comments/1025332378/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Java
19989279532,PushEvent,google/java-photoslibrary,0.0,2022-01-31T02:57:53Z,"{'push_id': 8969321892, 'size': 1, 'distinct_size': 1, 'ref': 'refs/heads/main', 'head': 'c3a35d77cdc9eb1c8f175a67588b73197a273f03', 'before': '25f04642c19f06e8df97f9c6507e718bf248d257', 'commits': [{'sha': 'c3a35d77cdc9eb1c8f175a67588b73197a273f03', 'author': {'email': 'jfschmakeit@google.com', 'name': 'Jan-Felix Schmakeit'}, 'message': 'Update dependencies and regenerate library.\n\nDue to changes in the gax dependencies, some additional grpc dependencies need to be\nspecified on the `photoslibraryapi` project.\n\nChange-Id: I3d4f1ee9c63afd7a34730b244acd22d4530d7ff6', 'distinct': True, 'url': 'https://api.github.com/repos/google/java-photoslibrary/commits/c3a35d77cdc9eb1c8f175a67588b73197a273f03'}]}",,Java
