event_id,event_type,event_repository,code_sample_event,event_created_at,event_payload,event_action,language
20667301587,ForkEvent,sokrypton/ColabFold,0.0,2022-03-09T20:47:13Z,"{'forkee': {'id': 468087220, 'node_id': 'R_kgDOG-ZxtA', 'name': 'ColabFold', 'full_name': 'elibixby/ColabFold', 'private': False, 'owner': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'html_url': 'https://github.com/elibixby/ColabFold', 'description': 'Making Protein folding accessible to all via Google Colab!', 'fork': True, 'url': 'https://api.github.com/repos/elibixby/ColabFold', 'forks_url': 'https://api.github.com/repos/elibixby/ColabFold/forks', 'keys_url': 'https://api.github.com/repos/elibixby/ColabFold/keys{/key_id}', 'collaborators_url': 'https://api.github.com/repos/elibixby/ColabFold/collaborators{/collaborator}', 'teams_url': 'https://api.github.com/repos/elibixby/ColabFold/teams', 'hooks_url': 'https://api.github.com/repos/elibixby/ColabFold/hooks', 'issue_events_url': 'https://api.github.com/repos/elibixby/ColabFold/issues/events{/number}', 'events_url': 'https://api.github.com/repos/elibixby/ColabFold/events', 'assignees_url': 'https://api.github.com/repos/elibixby/ColabFold/assignees{/user}', 'branches_url': 'https://api.github.com/repos/elibixby/ColabFold/branches{/branch}', 'tags_url': 'https://api.github.com/repos/elibixby/ColabFold/tags', 'blobs_url': 'https://api.github.com/repos/elibixby/ColabFold/git/blobs{/sha}', 'git_tags_url': 'https://api.github.com/repos/elibixby/ColabFold/git/tags{/sha}', 'git_refs_url': 'https://api.github.com/repos/elibixby/ColabFold/git/refs{/sha}', 'trees_url': 'https://api.github.com/repos/elibixby/ColabFold/git/trees{/sha}', 'statuses_url': 'https://api.github.com/repos/elibixby/ColabFold/statuses/{sha}', 'languages_url': 'https://api.github.com/repos/elibixby/ColabFold/languages', 'stargazers_url': 'https://api.github.com/repos/elibixby/ColabFold/stargazers', 'contributors_url': 'https://api.github.com/repos/elibixby/ColabFold/contributors', 'subscribers_url': 'https://api.github.com/repos/elibixby/ColabFold/subscribers', 'subscription_url': 'https://api.github.com/repos/elibixby/ColabFold/subscription', 'commits_url': 'https://api.github.com/repos/elibixby/ColabFold/commits{/sha}', 'git_commits_url': 'https://api.github.com/repos/elibixby/ColabFold/git/commits{/sha}', 'comments_url': 'https://api.github.com/repos/elibixby/ColabFold/comments{/number}', 'issue_comment_url': 'https://api.github.com/repos/elibixby/ColabFold/issues/comments{/number}', 'contents_url': 'https://api.github.com/repos/elibixby/ColabFold/contents/{+path}', 'compare_url': 'https://api.github.com/repos/elibixby/ColabFold/compare/{base}...{head}', 'merges_url': 'https://api.github.com/repos/elibixby/ColabFold/merges', 'archive_url': 'https://api.github.com/repos/elibixby/ColabFold/{archive_format}{/ref}', 'downloads_url': 'https://api.github.com/repos/elibixby/ColabFold/downloads', 'issues_url': 'https://api.github.com/repos/elibixby/ColabFold/issues{/number}', 'pulls_url': 'https://api.github.com/repos/elibixby/ColabFold/pulls{/number}', 'milestones_url': 'https://api.github.com/repos/elibixby/ColabFold/milestones{/number}', 'notifications_url': 'https://api.github.com/repos/elibixby/ColabFold/notifications{?since,all,participating}', 'labels_url': 'https://api.github.com/repos/elibixby/ColabFold/labels{/name}', 'releases_url': 'https://api.github.com/repos/elibixby/ColabFold/releases{/id}', 'deployments_url': 'https://api.github.com/repos/elibixby/ColabFold/deployments', 'created_at': '2022-03-09T20:47:12Z', 'updated_at': '2022-03-08T07:42:41Z', 'pushed_at': '2022-03-09T05:02:56Z', 'git_url': 'git://github.com/elibixby/ColabFold.git', 'ssh_url': 'git@github.com:elibixby/ColabFold.git', 'clone_url': 'https://github.com/elibixby/ColabFold.git', 'svn_url': 'https://github.com/elibixby/ColabFold', 'homepage': None, 'size': 36061, 'stargazers_count': 0, 'watchers_count': 0, 'language': None, 'has_issues': False, 'has_projects': True, 'has_downloads': True, 'has_wiki': True, 'has_pages': False, 'forks_count': 0, 'mirror_url': None, 'archived': False, 'disabled': False, 'open_issues_count': 0, 'license': {'key': 'mit', 'name': 'MIT License', 'spdx_id': 'MIT', 'url': 'https://api.github.com/licenses/mit', 'node_id': 'MDc6TGljZW5zZTEz'}, 'allow_forking': True, 'is_template': False, 'topics': [], 'visibility': 'public', 'forks': 0, 'open_issues': 0, 'watchers': 0, 'default_branch': 'main', 'public': True}}",,Jupyter Notebook
20470212027,IssueCommentEvent,reanahub/reana,0.0,2022-02-26T14:30:10Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'repository_url': 'https://api.github.com/repos/reanahub/reana', 'labels_url': 'https://api.github.com/repos/reanahub/reana/issues/356/labels{/name}', 'comments_url': 'https://api.github.com/repos/reanahub/reana/issues/356/comments', 'events_url': 'https://api.github.com/repos/reanahub/reana/issues/356/events', 'html_url': 'https://github.com/reanahub/reana/issues/356', 'id': 667695737, 'node_id': 'MDU6SXNzdWU2Njc2OTU3Mzc=', 'number': 356, 'title': 'Setting up on Google Cloud', 'user': {'login': 'arokem', 'id': 118582, 'node_id': 'MDQ6VXNlcjExODU4Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/118582?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/arokem', 'html_url': 'https://github.com/arokem', 'followers_url': 'https://api.github.com/users/arokem/followers', 'following_url': 'https://api.github.com/users/arokem/following{/other_user}', 'gists_url': 'https://api.github.com/users/arokem/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/arokem/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/arokem/subscriptions', 'organizations_url': 'https://api.github.com/users/arokem/orgs', 'repos_url': 'https://api.github.com/users/arokem/repos', 'events_url': 'https://api.github.com/users/arokem/events{/privacy}', 'received_events_url': 'https://api.github.com/users/arokem/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 7, 'created_at': '2018-10-26T00:15:50Z', 'updated_at': '2022-02-26T14:30:10Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hello! We are interested in setting up a Reana cluster on Google Cloud Platform (GCP). \r\n\r\nWe followed the instructions in the zero-to-jupyterhub documentation (https://zero-to-jupyterhub.readthedocs.io/en/stable/) to set up a Kubernetes cluster, and then followed the instructions here: https://reana-cluster.readthedocs.io/en/latest/gettingstarted.html#deploy-locally, but instead of using minikube, we pointed it to our cluster-in-the-clouds. Pretty quickly, we discovered that we can\'t write to `/reana` on these cloud machines (see: https://cloud.google.com/container-optimized-os/docs/concepts/security). All the pods come crashing down as soon as they try writing (into) this directory. So, we edited the provided default configuration (https://reana-cluster.readthedocs.io/en/latest/userguide.html#configure-reana-cluster) to point to `/etc/reana`, which is writeable. This solved most of the problems. The one remaining issue is that the database pod that is still crashing. The logs in this pod are: \r\n\r\n```\r\nThe files belonging to this database system will be owned by user ""postgres"".\r\nThis user must also own the server process.\r\n\r\nThe database cluster will be initialized with locale ""en_US.utf8"".\r\nThe default database encoding has accordingly been set to ""UTF8"".\r\nThe default text search configuration will be set to ""english"".\r\n\r\nData page checksums are disabled.\r\n\r\nfixing permissions on existing directory /var/lib/postgresql/data ... ok\r\ncreating subdirectories ... ok\r\nselecting default max_connections ... 100\r\nselecting default shared_buffers ... 128MB\r\nselecting dynamic shared memory implementation ... posix\r\ncreating configuration files ... ok\r\nFATAL:  could not write to file ""pg_xlog/xlogtemp.29"": No space left on device\r\nchild process exited with exit code 1\r\ninitdb: removing contents of data directory ""/var/lib/postgresql/data""\r\nrunning bootstrap script ... \r\n```\r\n\r\nWhich suggest that maybe it\'s still trying to write to a disallowed location. \r\n\r\nWe\'re not neccessarily expecting you to fix this, if it\'s not currently on your road-map, but we thought it would be good to raise this, and at least document our experiments for future experimenters seeking guidance. \r\n\r\nBut of course: your thoughts would be appreciated. Thanks!', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356/reactions', 'total_count': 1, '+1': 1, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/reanahub/reana/issues/356/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1052143964', 'html_url': 'https://github.com/reanahub/reana/issues/356#issuecomment-1052143964', 'issue_url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'id': 1052143964, 'node_id': 'IC_kwDOBLcNqs4-tnFc', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-02-26T14:30:10Z', 'updated_at': '2022-02-26T14:30:10Z', 'author_association': 'NONE', 'body': ""Hey @lukasheinrich \r\nI got it working without much trouble in the end. \r\n\r\nMain hiccups besides those above were:\r\n* Easiest path to auth seems to be bunch of cron jobs that sync ReANA users with my users, and a reverse proxy that adds username + password auth headers, feels gross but the only thing to do without rebuilding most of the ReANA frontend API.\r\n* Python client was broken between releases, but I appreciate the prompt responses :) \r\n* The helm chart somewhat awkwardly couples Ingress and intracluster communication. I tried to use GKE Ingress (managed cert + global load balancer), and it broke worker/master/webserver communication and that took a while to debug, as the service targeted by ingress also serves as the service used for intercluster communication for some reason. Would be nicer to have a separate cluster IP and use Cluster DNS addresses for communication between components, and then an external load balancer targeted by the ingress. I ended up just going back to Traefik\r\n* Would be nice to update to a newever version of the Traefik chart, I believe the current one is very out of date, and it took me a while to track down the values file.\r\n* The longest amount of time was spent trying to get Ceph to work on GKE. Finally realized that containerd OS doesn't have RBD driver, and autoscaling node pools aren't available for Ubuntu OS So I'm stuck with NFS for now. This actually looks to be more Ceph's fault than Google's or CNCI, as Ceph should really be containerizing the rbd driver as part of their CSI implementation (see https://github.com/kubernetes/enhancements/issues/278 ) but that may be a ton of work.\r\n"", 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1052143964/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Python
20460984008,IssuesEvent,kubernetes-sigs/nfs-ganesha-server-and-external-provisioner,0.0,2022-02-25T22:00:48Z,"{'action': 'opened', 'issue': {'url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97', 'repository_url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner', 'labels_url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97/labels{/name}', 'comments_url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97/comments', 'events_url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97/events', 'html_url': 'https://github.com/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97', 'id': 1150916931, 'node_id': 'I_kwDODujQ7c5EmZlD', 'number': 97, 'title': '[Proposal] Multi-server storage class', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 0, 'created_at': '2022-02-25T22:00:48Z', 'updated_at': '2022-02-25T22:00:48Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Volume resizing and splitting servers by subpaths has two problems in my usage:\r\n\r\n* Volume resizing doesn\'t happen automatically (or at least I haven\'t been able to figure that out), so the underlying storage is either overprovisioned, or may block PVCs using this storage class. While this isn\'t technically wrong, it breaks the contracts many cloud providers have with their storage classes (roughly unlimited storage), and reduces the utility of dynamic volume provisioning.\r\n* Volume resizing is much more difficult to do (both manually and automatically) if the resizing exceeds the underlying storage for PVCs deployed with this storage class (since both the provisioner\'s volume and the the volume the PVC is bound to must be resized)\r\n* Even if resizing was made automatic, volumes can\'t be resized down, and so the underlying storage class would be dramatically overprovisioned.\r\n\r\n\r\nOne solution might be a different Provisioner that provisions NFS servers and the storage that back them according to parameters required by the storage class, or passed from the PVC (if `volumeBindingMode: WaitForFIrstConsumer`)\r\n\r\n-----\r\nMode 1: If the user wants to be able to provision  PVCs ahead of time.\r\n```\r\napiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  name: nfs-fast\r\n  labels:\r\n       storageClass: \'fast\'\r\nprovisioner: cluster.local/multi-nfs-provisioner\r\nparameters:\r\n  storageClass: \'fast\'\r\n  resources:\r\n    requests:\r\n        cpu: 100/1Ti\r\n        memory: 250/1Ti\r\n  topology:\r\n    ...\r\n  affinities:\r\n    ...\r\nreclaimPolicy: Retain\r\nallowVolumeExpansion: true\r\nvolumeBindingMode: Immediate\r\n```\r\n-----\r\nMode2: User is ok with slower provisioning in exchange for better utilization, and keeping the server near its consumers.\r\n```\r\napiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  name: nfs-fast-dynamic\r\n  labels: \r\n       storageClass: \'fast\'\r\nparameters:\r\n  storageClass: \'fast\'\r\n  resources:\r\n    requests:\r\n        cpu: 100m/1Ti\r\n        memory: 250m/1Ti\r\nprovisioner: cluster.local/multi-nfs-provisioner\r\nreclaimPolicy: Delete\r\nallowVolumeExpansion: true\r\nvolumeBindingMode: WaitForFirstConsumer\r\n```\r\n-----\r\nWhen a new volume is requested with storage class `nfs-fast` A nfs server backed by a dynamically provisioned volume of `storageClass` with topology/affinity constraints either from parameters or the bound pod, and size from the requesting PVC.\r\nAdditionally resource requests could be specified in terms of the storage size requested, since for most volume types I/O performance scales with size (here, for every terabyte of requested storage server would request 100m CPU and 250m memory)\r\n\r\nThe statefulset for the provisioner, instead of maintaining a mapping from PVs to subpaths, would maintain a mapping from PVs to servers.\r\n\r\nSummary of advantages over current approach:\r\n* Additional storage can be dynamically requested and released from underlying storage by PVCs as expected.\r\n* Better isolation of PVC requests (PVCs can\'t spill above the storage of the underlying volume and take away from ""guaranteed storage"" for other PVCs).\r\n* NFS Server requests can be scaled according to underlying disk size, allowing users of cloud providers where I/O scales with drive size to better saturate their drives\r\n* For multi-zone clusters allows for colocation of server and PVC when bound just-in-time.\r\n* Easier for users to add a new ""kind"" of NFS storage based on another storage class (rather than deploying a second helm chart, just create a new parameterized storage class)\r\n\r\nI\'m relatively new to the CSI ecosystem but I\'m wondering if something like this is feasible/has been thought about.\r\n', 'reactions': {'url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/kubernetes-sigs/nfs-ganesha-server-and-external-provisioner/issues/97/timeline', 'performed_via_github_app': None}}",opened,Shell
20456079201,PushEvent,cradlebio/MMseqs2-App,0.0,2022-02-25T16:13:49Z,"{'push_id': 9202415530, 'size': 1, 'distinct_size': 1, 'ref': 'refs/heads/master', 'head': '4e27282e806b73050ba7a5222a1c78be51231bff', 'before': '8ef9f24980cdca709676c5039654c66d69dc1ba1', 'commits': [{'sha': '4e27282e806b73050ba7a5222a1c78be51231bff', 'author': {'email': 'eli@cradle.bio', 'name': 'Eli Bixby'}, 'message': 'Add build arg to unbreak frontend dockerfile.', 'distinct': True, 'url': 'https://api.github.com/repos/cradlebio/MMseqs2-App/commits/4e27282e806b73050ba7a5222a1c78be51231bff'}]}",,JavaScript
20250520245,IssueCommentEvent,reanahub/reana-client,0.0,2022-02-14T17:25:01Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/591', 'repository_url': 'https://api.github.com/repos/reanahub/reana-client', 'labels_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/labels{/name}', 'comments_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/comments', 'events_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/events', 'html_url': 'https://github.com/reanahub/reana-client/issues/591', 'id': 1137167705, 'node_id': 'I_kwDOBXHnh85Dx81Z', 'number': 591, 'title': 'Broken imports in 0.8.0', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 2, 'created_at': '2022-02-14T11:30:50Z', 'updated_at': '2022-02-14T17:25:01Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'After installing in a clean virtualenv I get this result:\r\n\r\n```\r\nPackage                Version           \r\n---------------------- ------------------\r\nadage                  0.10.3            \r\namqp                   5.0.9             \r\nappdirs                1.4.4             \r\nargcomplete            2.0.0             \r\nattrs                  21.4.0            \r\nbagit                  1.8.1             \r\nbravado                10.3.2            \r\nbravado-core           5.17.0            \r\nCacheControl           0.12.10           \r\ncertifi                2021.10.8         \r\ncharset-normalizer     2.0.12            \r\nchecksumdir            1.1.9             \r\nclick                  8.0.3             \r\ncoloredlogs            15.0.1            \r\nConfigArgParse         1.5.3             \r\nconnection-pool        0.0.3             \r\ncwltool                3.1.20210628163208\r\ndatrie                 0.8.2             \r\ndecorator              5.1.1             \r\ndefusedxml             0.7.1             \r\ndocutils               0.18.1            \r\net-xmlfile             1.1.0             \r\nfilelock               3.4.2             \r\nfs                     2.4.15            \r\ngitdb                  4.0.9             \r\nGitPython              3.1.26            \r\nglob2                  0.7               \r\nhumanfriendly          10.0              \r\nidna                   3.3               \r\nipython-genutils       0.2.0             \r\nisodate                0.6.1             \r\njq                     1.2.2             \r\njsonpath-rw            1.4.0             \r\njsonpointer            2.2               \r\njsonref                0.2               \r\njsonschema             3.2.0             \r\njupyter-core           4.9.1             \r\nkombu                  5.2.3             \r\nlockfile               0.12.2            \r\nlxml                   4.7.1             \r\nmistune                0.8.4             \r\nmock                   3.0.5             \r\nmonotonic              1.6               \r\nmsgpack                1.0.3             \r\nmsgpack-python         0.5.6             \r\nmypy-extensions        0.4.3             \r\nnbformat               5.1.3             \r\nnetworkx               2.6.3             \r\nodfpy                  1.4.1             \r\nopenpyxl               3.0.9             \r\npacktivity             0.14.24           \r\npip                    20.0.2            \r\npkg-resources          0.0.0             \r\nply                    3.11              \r\nprov                   1.5.1             \r\npsutil                 5.9.0             \r\nPuLP                   2.6.0             \r\npydot                  1.4.2             \r\npyparsing              3.0.7             \r\npyrsistent             0.18.1            \r\npython-dateutil        2.8.2             \r\npytz                   2021.3            \r\nPyYAML                 5.4.1             \r\nratelimiter            1.2.0.post0       \r\nrdflib                 5.0.0             \r\nreana-client           0.8.0             \r\nreana-commons          0.8.4             \r\nrequests               2.27.1            \r\nrfc3987                1.3.8             \r\nruamel.yaml            0.17.10           \r\nruamel.yaml.clib       0.2.6             \r\nschema-salad           8.2.20220204150214\r\nsetuptools             44.0.0            \r\nshellescape            3.8.1             \r\nsimplejson             3.17.6            \r\nsix                    1.16.0            \r\nsmart-open             5.2.1             \r\nsmmap                  5.0.0             \r\nsnakemake              6.8.0             \r\nstopit                 1.1.2             \r\nstrict-rfc3339         0.7               \r\nswagger-spec-validator 2.7.4             \r\ntablib                 0.12.1            \r\ntabulate               0.8.9             \r\ntoposort               1.7               \r\ntraitlets              5.1.1             \r\ntyping-extensions      4.1.1             \r\nunicodecsv             0.14.1            \r\nurllib3                1.26.8            \r\nvine                   5.0.0             \r\nwebcolors              1.11.1            \r\nWerkzeug               2.0.3             \r\nwheel                  0.34.2            \r\nwrapt                  1.13.3            \r\nxlrd                   2.0.1             \r\nxlwt                   1.3.0             \r\nyadage                 0.20.1            \r\nyadage-schemas         0.10.7  \r\n```\r\n\r\nRunning `reana-client ping`\r\n```\r\nTraceback (most recent call last):\r\n  File ""/home/eli/.virtualenvs/reana/bin/reana-client"", line 5, in <module>\r\n    from reana_client.cli import cli\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/__init__.py"", line 16, in <module>\r\n    from reana_client.cli import workflow, files, ping, secrets, quotas\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/workflow.py"", line 24, in <module>\r\n    from reana_client.cli.files import get_files, upload_files\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/files.py"", line 21, in <module>\r\n    from reana_client.cli.utils import (\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/utils.py"", line 25, in <module>\r\n    from reana_client.utils import workflow_uuid_or_name\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/utils.py"", line 30, in <module>\r\n    from reana_commons.workspaces import validate_workspace\r\nModuleNotFoundError: No module named \'reana_commons.workspaces\'\r\n(reana) eli@eli-laptop:~/cradle/gitlab/infrastructure/reana$ reana-client ping\r\nTraceback (most recent call last):\r\n  File ""/home/eli/.virtualenvs/reana/bin/reana-client"", line 5, in <module>\r\n    from reana_client.cli import cli\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/__init__.py"", line 16, in <module>\r\n    from reana_client.cli import workflow, files, ping, secrets, quotas\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/workflow.py"", line 24, in <module>\r\n    from reana_client.cli.files import get_files, upload_files\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/files.py"", line 21, in <module>\r\n    from reana_client.cli.utils import (\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/utils.py"", line 25, in <module>\r\n    from reana_client.utils import workflow_uuid_or_name\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/utils.py"", line 30, in <module>\r\n    from reana_commons.workspaces import validate_workspace\r\nModuleNotFoundError: No module named \'reana_commons.workspaces\'\r\n```\r\n\r\n', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/comments/1039352820', 'html_url': 'https://github.com/reanahub/reana-client/issues/591#issuecomment-1039352820', 'issue_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591', 'id': 1039352820, 'node_id': 'IC_kwDOBXHnh84980P0', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-02-14T17:25:01Z', 'updated_at': '2022-02-14T17:25:01Z', 'author_association': 'NONE', 'body': 'Thanks `0.8.1a2` fixed.', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/comments/1039352820/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Python
20243506950,IssuesEvent,reanahub/reana-client,0.0,2022-02-14T11:30:51Z,"{'action': 'opened', 'issue': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/591', 'repository_url': 'https://api.github.com/repos/reanahub/reana-client', 'labels_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/labels{/name}', 'comments_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/comments', 'events_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/events', 'html_url': 'https://github.com/reanahub/reana-client/issues/591', 'id': 1137167705, 'node_id': 'I_kwDOBXHnh85Dx81Z', 'number': 591, 'title': 'Broken imports in 0.8.0', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 0, 'created_at': '2022-02-14T11:30:50Z', 'updated_at': '2022-02-14T11:30:50Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'After installing in a clean virtualenv I get this result:\r\n\r\n```\r\nPackage                Version           \r\n---------------------- ------------------\r\nadage                  0.10.3            \r\namqp                   5.0.9             \r\nappdirs                1.4.4             \r\nargcomplete            2.0.0             \r\nattrs                  21.4.0            \r\nbagit                  1.8.1             \r\nbravado                10.3.2            \r\nbravado-core           5.17.0            \r\nCacheControl           0.12.10           \r\ncertifi                2021.10.8         \r\ncharset-normalizer     2.0.12            \r\nchecksumdir            1.1.9             \r\nclick                  8.0.3             \r\ncoloredlogs            15.0.1            \r\nConfigArgParse         1.5.3             \r\nconnection-pool        0.0.3             \r\ncwltool                3.1.20210628163208\r\ndatrie                 0.8.2             \r\ndecorator              5.1.1             \r\ndefusedxml             0.7.1             \r\ndocutils               0.18.1            \r\net-xmlfile             1.1.0             \r\nfilelock               3.4.2             \r\nfs                     2.4.15            \r\ngitdb                  4.0.9             \r\nGitPython              3.1.26            \r\nglob2                  0.7               \r\nhumanfriendly          10.0              \r\nidna                   3.3               \r\nipython-genutils       0.2.0             \r\nisodate                0.6.1             \r\njq                     1.2.2             \r\njsonpath-rw            1.4.0             \r\njsonpointer            2.2               \r\njsonref                0.2               \r\njsonschema             3.2.0             \r\njupyter-core           4.9.1             \r\nkombu                  5.2.3             \r\nlockfile               0.12.2            \r\nlxml                   4.7.1             \r\nmistune                0.8.4             \r\nmock                   3.0.5             \r\nmonotonic              1.6               \r\nmsgpack                1.0.3             \r\nmsgpack-python         0.5.6             \r\nmypy-extensions        0.4.3             \r\nnbformat               5.1.3             \r\nnetworkx               2.6.3             \r\nodfpy                  1.4.1             \r\nopenpyxl               3.0.9             \r\npacktivity             0.14.24           \r\npip                    20.0.2            \r\npkg-resources          0.0.0             \r\nply                    3.11              \r\nprov                   1.5.1             \r\npsutil                 5.9.0             \r\nPuLP                   2.6.0             \r\npydot                  1.4.2             \r\npyparsing              3.0.7             \r\npyrsistent             0.18.1            \r\npython-dateutil        2.8.2             \r\npytz                   2021.3            \r\nPyYAML                 5.4.1             \r\nratelimiter            1.2.0.post0       \r\nrdflib                 5.0.0             \r\nreana-client           0.8.0             \r\nreana-commons          0.8.4             \r\nrequests               2.27.1            \r\nrfc3987                1.3.8             \r\nruamel.yaml            0.17.10           \r\nruamel.yaml.clib       0.2.6             \r\nschema-salad           8.2.20220204150214\r\nsetuptools             44.0.0            \r\nshellescape            3.8.1             \r\nsimplejson             3.17.6            \r\nsix                    1.16.0            \r\nsmart-open             5.2.1             \r\nsmmap                  5.0.0             \r\nsnakemake              6.8.0             \r\nstopit                 1.1.2             \r\nstrict-rfc3339         0.7               \r\nswagger-spec-validator 2.7.4             \r\ntablib                 0.12.1            \r\ntabulate               0.8.9             \r\ntoposort               1.7               \r\ntraitlets              5.1.1             \r\ntyping-extensions      4.1.1             \r\nunicodecsv             0.14.1            \r\nurllib3                1.26.8            \r\nvine                   5.0.0             \r\nwebcolors              1.11.1            \r\nWerkzeug               2.0.3             \r\nwheel                  0.34.2            \r\nwrapt                  1.13.3            \r\nxlrd                   2.0.1             \r\nxlwt                   1.3.0             \r\nyadage                 0.20.1            \r\nyadage-schemas         0.10.7  \r\n```\r\n\r\nRunning `reana-client ping`\r\n```\r\nTraceback (most recent call last):\r\n  File ""/home/eli/.virtualenvs/reana/bin/reana-client"", line 5, in <module>\r\n    from reana_client.cli import cli\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/__init__.py"", line 16, in <module>\r\n    from reana_client.cli import workflow, files, ping, secrets, quotas\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/workflow.py"", line 24, in <module>\r\n    from reana_client.cli.files import get_files, upload_files\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/files.py"", line 21, in <module>\r\n    from reana_client.cli.utils import (\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/utils.py"", line 25, in <module>\r\n    from reana_client.utils import workflow_uuid_or_name\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/utils.py"", line 30, in <module>\r\n    from reana_commons.workspaces import validate_workspace\r\nModuleNotFoundError: No module named \'reana_commons.workspaces\'\r\n(reana) eli@eli-laptop:~/cradle/gitlab/infrastructure/reana$ reana-client ping\r\nTraceback (most recent call last):\r\n  File ""/home/eli/.virtualenvs/reana/bin/reana-client"", line 5, in <module>\r\n    from reana_client.cli import cli\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/__init__.py"", line 16, in <module>\r\n    from reana_client.cli import workflow, files, ping, secrets, quotas\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/workflow.py"", line 24, in <module>\r\n    from reana_client.cli.files import get_files, upload_files\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/files.py"", line 21, in <module>\r\n    from reana_client.cli.utils import (\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/cli/utils.py"", line 25, in <module>\r\n    from reana_client.utils import workflow_uuid_or_name\r\n  File ""/home/eli/.virtualenvs/reana/lib/python3.8/site-packages/reana_client/utils.py"", line 30, in <module>\r\n    from reana_commons.workspaces import validate_workspace\r\nModuleNotFoundError: No module named \'reana_commons.workspaces\'\r\n```\r\n\r\n', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/reanahub/reana-client/issues/591/timeline', 'performed_via_github_app': None}}",opened,Python
20243141172,IssueCommentEvent,reanahub/reana,0.0,2022-02-14T11:10:32Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'repository_url': 'https://api.github.com/repos/reanahub/reana', 'labels_url': 'https://api.github.com/repos/reanahub/reana/issues/356/labels{/name}', 'comments_url': 'https://api.github.com/repos/reanahub/reana/issues/356/comments', 'events_url': 'https://api.github.com/repos/reanahub/reana/issues/356/events', 'html_url': 'https://github.com/reanahub/reana/issues/356', 'id': 667695737, 'node_id': 'MDU6SXNzdWU2Njc2OTU3Mzc=', 'number': 356, 'title': 'Setting up on Google Cloud', 'user': {'login': 'arokem', 'id': 118582, 'node_id': 'MDQ6VXNlcjExODU4Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/118582?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/arokem', 'html_url': 'https://github.com/arokem', 'followers_url': 'https://api.github.com/users/arokem/followers', 'following_url': 'https://api.github.com/users/arokem/following{/other_user}', 'gists_url': 'https://api.github.com/users/arokem/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/arokem/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/arokem/subscriptions', 'organizations_url': 'https://api.github.com/users/arokem/orgs', 'repos_url': 'https://api.github.com/users/arokem/repos', 'events_url': 'https://api.github.com/users/arokem/events{/privacy}', 'received_events_url': 'https://api.github.com/users/arokem/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 5, 'created_at': '2018-10-26T00:15:50Z', 'updated_at': '2022-02-14T11:10:32Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hello! We are interested in setting up a Reana cluster on Google Cloud Platform (GCP). \r\n\r\nWe followed the instructions in the zero-to-jupyterhub documentation (https://zero-to-jupyterhub.readthedocs.io/en/stable/) to set up a Kubernetes cluster, and then followed the instructions here: https://reana-cluster.readthedocs.io/en/latest/gettingstarted.html#deploy-locally, but instead of using minikube, we pointed it to our cluster-in-the-clouds. Pretty quickly, we discovered that we can\'t write to `/reana` on these cloud machines (see: https://cloud.google.com/container-optimized-os/docs/concepts/security). All the pods come crashing down as soon as they try writing (into) this directory. So, we edited the provided default configuration (https://reana-cluster.readthedocs.io/en/latest/userguide.html#configure-reana-cluster) to point to `/etc/reana`, which is writeable. This solved most of the problems. The one remaining issue is that the database pod that is still crashing. The logs in this pod are: \r\n\r\n```\r\nThe files belonging to this database system will be owned by user ""postgres"".\r\nThis user must also own the server process.\r\n\r\nThe database cluster will be initialized with locale ""en_US.utf8"".\r\nThe default database encoding has accordingly been set to ""UTF8"".\r\nThe default text search configuration will be set to ""english"".\r\n\r\nData page checksums are disabled.\r\n\r\nfixing permissions on existing directory /var/lib/postgresql/data ... ok\r\ncreating subdirectories ... ok\r\nselecting default max_connections ... 100\r\nselecting default shared_buffers ... 128MB\r\nselecting dynamic shared memory implementation ... posix\r\ncreating configuration files ... ok\r\nFATAL:  could not write to file ""pg_xlog/xlogtemp.29"": No space left on device\r\nchild process exited with exit code 1\r\ninitdb: removing contents of data directory ""/var/lib/postgresql/data""\r\nrunning bootstrap script ... \r\n```\r\n\r\nWhich suggest that maybe it\'s still trying to write to a disallowed location. \r\n\r\nWe\'re not neccessarily expecting you to fix this, if it\'s not currently on your road-map, but we thought it would be good to raise this, and at least document our experiments for future experimenters seeking guidance. \r\n\r\nBut of course: your thoughts would be appreciated. Thanks!', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356/reactions', 'total_count': 1, '+1': 1, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/reanahub/reana/issues/356/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1038955975', 'html_url': 'https://github.com/reanahub/reana/issues/356#issuecomment-1038955975', 'issue_url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'id': 1038955975, 'node_id': 'IC_kwDOBLcNqs497TXH', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-02-14T11:10:32Z', 'updated_at': '2022-02-14T11:10:32Z', 'author_association': 'NONE', 'body': '>WRT auth, REANA currently offers either local accounts or CERN-specific SSO. However, CERN has a new OIDC-based authn/authz system in place, which we were thinking of migrating towards later in the year. If OIDC would be OK for your needs, there could be some synergy there, as for the storage need synergies.\r\n\r\nMy ideal solution is an ""authless"" mode where I can put something like https://github.com/travisghansen/external-auth-server/ in front the API/UI and manage users quota and auth myself \r\n\r\nA ""nice to have"" would be to allow mapping forwarded user IDs to namespaces and service accounts, to better isolate workflows from each-other, then use cluster quota\r\n\r\n', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1038955975/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Python
20134796193,IssueCommentEvent,reanahub/reana,0.0,2022-02-08T16:50:16Z,"{'action': 'created', 'issue': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'repository_url': 'https://api.github.com/repos/reanahub/reana', 'labels_url': 'https://api.github.com/repos/reanahub/reana/issues/356/labels{/name}', 'comments_url': 'https://api.github.com/repos/reanahub/reana/issues/356/comments', 'events_url': 'https://api.github.com/repos/reanahub/reana/issues/356/events', 'html_url': 'https://github.com/reanahub/reana/issues/356', 'id': 667695737, 'node_id': 'MDU6SXNzdWU2Njc2OTU3Mzc=', 'number': 356, 'title': 'Setting up on Google Cloud', 'user': {'login': 'arokem', 'id': 118582, 'node_id': 'MDQ6VXNlcjExODU4Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/118582?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/arokem', 'html_url': 'https://github.com/arokem', 'followers_url': 'https://api.github.com/users/arokem/followers', 'following_url': 'https://api.github.com/users/arokem/following{/other_user}', 'gists_url': 'https://api.github.com/users/arokem/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/arokem/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/arokem/subscriptions', 'organizations_url': 'https://api.github.com/users/arokem/orgs', 'repos_url': 'https://api.github.com/users/arokem/repos', 'events_url': 'https://api.github.com/users/arokem/events{/privacy}', 'received_events_url': 'https://api.github.com/users/arokem/received_events', 'type': 'User', 'site_admin': False}, 'labels': [], 'state': 'open', 'locked': False, 'assignee': None, 'assignees': [], 'milestone': None, 'comments': 4, 'created_at': '2018-10-26T00:15:50Z', 'updated_at': '2022-02-08T16:50:16Z', 'closed_at': None, 'author_association': 'NONE', 'active_lock_reason': None, 'body': 'Hello! We are interested in setting up a Reana cluster on Google Cloud Platform (GCP). \r\n\r\nWe followed the instructions in the zero-to-jupyterhub documentation (https://zero-to-jupyterhub.readthedocs.io/en/stable/) to set up a Kubernetes cluster, and then followed the instructions here: https://reana-cluster.readthedocs.io/en/latest/gettingstarted.html#deploy-locally, but instead of using minikube, we pointed it to our cluster-in-the-clouds. Pretty quickly, we discovered that we can\'t write to `/reana` on these cloud machines (see: https://cloud.google.com/container-optimized-os/docs/concepts/security). All the pods come crashing down as soon as they try writing (into) this directory. So, we edited the provided default configuration (https://reana-cluster.readthedocs.io/en/latest/userguide.html#configure-reana-cluster) to point to `/etc/reana`, which is writeable. This solved most of the problems. The one remaining issue is that the database pod that is still crashing. The logs in this pod are: \r\n\r\n```\r\nThe files belonging to this database system will be owned by user ""postgres"".\r\nThis user must also own the server process.\r\n\r\nThe database cluster will be initialized with locale ""en_US.utf8"".\r\nThe default database encoding has accordingly been set to ""UTF8"".\r\nThe default text search configuration will be set to ""english"".\r\n\r\nData page checksums are disabled.\r\n\r\nfixing permissions on existing directory /var/lib/postgresql/data ... ok\r\ncreating subdirectories ... ok\r\nselecting default max_connections ... 100\r\nselecting default shared_buffers ... 128MB\r\nselecting dynamic shared memory implementation ... posix\r\ncreating configuration files ... ok\r\nFATAL:  could not write to file ""pg_xlog/xlogtemp.29"": No space left on device\r\nchild process exited with exit code 1\r\ninitdb: removing contents of data directory ""/var/lib/postgresql/data""\r\nrunning bootstrap script ... \r\n```\r\n\r\nWhich suggest that maybe it\'s still trying to write to a disallowed location. \r\n\r\nWe\'re not neccessarily expecting you to fix this, if it\'s not currently on your road-map, but we thought it would be good to raise this, and at least document our experiments for future experimenters seeking guidance. \r\n\r\nBut of course: your thoughts would be appreciated. Thanks!', 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/356/reactions', 'total_count': 1, '+1': 1, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'timeline_url': 'https://api.github.com/repos/reanahub/reana/issues/356/timeline', 'performed_via_github_app': None}, 'comment': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1032835776', 'html_url': 'https://github.com/reanahub/reana/issues/356#issuecomment-1032835776', 'issue_url': 'https://api.github.com/repos/reanahub/reana/issues/356', 'id': 1032835776, 'node_id': 'IC_kwDOBLcNqs49j9LA', 'user': {'login': 'elibixby', 'id': 6596957, 'node_id': 'MDQ6VXNlcjY1OTY5NTc=', 'avatar_url': 'https://avatars.githubusercontent.com/u/6596957?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/elibixby', 'html_url': 'https://github.com/elibixby', 'followers_url': 'https://api.github.com/users/elibixby/followers', 'following_url': 'https://api.github.com/users/elibixby/following{/other_user}', 'gists_url': 'https://api.github.com/users/elibixby/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/elibixby/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/elibixby/subscriptions', 'organizations_url': 'https://api.github.com/users/elibixby/orgs', 'repos_url': 'https://api.github.com/users/elibixby/repos', 'events_url': 'https://api.github.com/users/elibixby/events{/privacy}', 'received_events_url': 'https://api.github.com/users/elibixby/received_events', 'type': 'User', 'site_admin': False}, 'created_at': '2022-02-08T16:50:15Z', 'updated_at': '2022-02-08T16:50:15Z', 'author_association': 'NONE', 'body': ""FYI I am currently trying to get this running on GKE (v1.22).\r\n\r\nCurrently trying to get the barebones running (ingess, quota, etc turned off)\r\n\r\nSome sticking points:\r\n\r\n* It's rather strange to use an unconfigurable storage class name. I already had RWX dynamic provisioning support in my cluster and ended up having to copy the storageclass config and change the name (rather than deploying a duplicate provisioner). Much better to allow the user to specify a storage class name and use current templated default.\r\n* hostPaths can't be used on GKE safely (and are generally discouraged for safety reasons), so the `reana-workflow-controller` pods are crashing due to the `reana-code` hostpath volume. Should be an easy fix allowing users to specify a storageclass for this as well (defaulting to hostPath).\r\n\r\nI might have missed options that allow for this in the config. If you're interested in contributions I'd happily contribute some documentation etc if people can help me with PRs as I work out these issues. \r\n\r\nSome far future things I'm interested in:\r\n* More flexible auth (e.g token based login)\r\n* Moving PostGres server out of cluster (e.g. using the Cloud SQL proxy)\r\n* More flexible quota management (e.g. with RBAC for externalized quota)"", 'reactions': {'url': 'https://api.github.com/repos/reanahub/reana/issues/comments/1032835776/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}, 'performed_via_github_app': None}}",created,Python
